<!DOCTYPE html>
<html>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Roboto'>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="css.css">

<style></style>
 
  <head>
    <title>Chemostat Control</title>
  </head>
  
<body>
<!-- For top button -->
<div id="top" style="top:-50px;"><p></p></div>

	
<div class = "chemostatimage">
<div class="w3-content w3-margin-top transparent" style="max-width:1400px; padding:0px;">
 <div id="chemostat" class="w3-container w3-card">
  <center>
	  <h1>Welcome to Drew's Chemostat Control Page!</h1>
	  <h2 id="time" style="color:White;">Time Goes Here</h2>
	  <h1 id="setpoints">Current Setpoints</h1>
<p id="result">

Temperature: <span id="temp">{{temp}}</span> / {{setpoint_T}} C

<br>

OD: <span id="OD">{{OD}}</span> / {{setpoint_OD}}

<br>

Sparging: <span id="sparging">{{sparging}}</span> / {{duty_cycle}} %

</p>

<h3>Change Setpoints</h3>
<form action="/temp" method="post">
  Temperature Setpoint
  <input type="text" name="SP_T"> C</input>
  <input type="submit" value="Send"></input>
</form>
 
<form action="/OD" method="post">
  <br>
  Optical Density Setpoint 
  <input type="text" name="SP_OD"></input>
  <input type="submit" value="Send"></input>  
</form> 
 
<form action="/sparge" method="post">
  <br>
  Sparging Percentage (0-100)
  <input type="text" name="SP_sparge"> %</input>
  <input type="submit" value="Send"></input>  
</form>
<form action="/finish" method="post">
    <br>
    <input type="submit" value="Quit"></input>
</form>
</center>
</div>
</div>
</div>

<!-- top button in bottom right-->
<a href="#top"><img src="https://i.ibb.co/RyHdbWS/arrow.png" class="fixed" alt="arrow" border="0" height="25" style="opacity:0.4;filter:alpha(opacity=40);"></a>

<script>
function checkTime(i) {return (i < 10) ? "0" + i : i;}

function startTime() {
	var today = new Date(),
	    h = checkTime(today.getHours()),
	    m = checkTime(today.getMinutes()),
	    s = checkTime(today.getSeconds());
	document.getElementById('time').innerHTML = "Current Time: " + h + ":" + m + ":" + s;	
}
setInterval(startTime, 1000);

	
/*
function jsOD() {
	var OD = import(chemostat_code.py)
	document.getElementByID("OD").innerHTML = OD.OD(); */
</script>

</body>

<!-- <meta http-equiv="refresh" content="2"> --> 
</html>
