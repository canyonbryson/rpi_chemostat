<!DOCTYPE html>
<html>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Roboto'>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
html,body,h1,h2,h3,h4,h5,h6 {font-family: "Roboto", sans-serif}

/*add background image to cover */

.fixed {
   	position: fixed; /* Set the navbar to fixed position */
  	bottom: 5px; /* Position at the bottom of the page */
  	right: 5px;
}
/* menu details */
ul.menu {
	list-style-type: none;
    margin: 0;
 	padding: 0;
  	overflow: hidden;
  	border: 0px solid #e7e7e7;
  	background-color: #f3f3f3;
    opacity: .95;
    position: fixed;
  	top: 0;
  	width: 100%;
    transition: .3s;
}
ul.menu:hover {
	opacity: 1;
}
.margin-top {
	margin-top: 80px;
}
li.menu {
float: left;
}
.overlay {
	z-index: 1;
}
/* define the text in the menu */
li a {
  display: block;
  color: #666;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
  transition: .3s;
}
/* Change the color when hovering over a menu option */
li a:hover:not(.active) {
  background-color: #ddd;
}
/* Change color of the active menu option */
li a.active {
  color: black;
  background-color: rgba(112, 190, 255, .95);
}
.transparent {
opacity:.85;
}
	
h1, h3, p, form {
	color: white;
}
.chemostatimage {
  background-image: url('https://i.ibb.co/C1d6qgM/45760598514-3da4c18fa7-b.jpg');
  background-repeat: no-repeat;
  background-size: cover;
  backgroun-position: center;
	width: 100%;
	height: 100%;
}
	
body, html {
  height: 100%;
}


</style>

  
  <head>
    <title>Chemostat Control</title>
  </head>
  

  
<body>
<!-- For top button -->
<div id="top" style="top:-50px;"><p></p></div>

	
<div class = "chemostatimage">
<div class="w3-content w3-margin-top transparent" style="max-width:1400px; padding:0px;">
 <div id="chemostat" class="w3-container w3-card">
  <center>
	  <h1>Welcome to Drew's Chemostat Control Page!</h1>
	  <h2 id="time" style="color:White;">Time Goes Here</h2>
	  <h1 id="setpoints">Current Setpoints</h1>
<p id="result">

Temperature: <span id="temp">{{temp}}</span> / {{setpoint_T}} C

<br>

OD: <span id="OD">{{OD}}</span> / {{setpoint_OD}}

<br>

Sparging: <span id="sparging">{{sparging}}</span> / {{duty_cycle}} %

</p>

<h3>Change Setpoints</h3>
<form action="/temp" method="post">
  Temperature Setpoint
  <input type="text" name="SP_T"> C</input>
  <input type="submit" value="Send"></input>
</form>
 
<form action="/OD" method="post">
  <br>
  Optical Density Setpoint 
  <input type="text" name="SP_OD"></input>
  <input type="submit" value="Send"></input>  
</form> 
 
<form action="/sparge" method="post">
  <br>
  Sparging Percentage (0-100)
  <input type="text" name="SP_sparge"> %</input>
  <input type="submit" value="Send"></input>  
</form>
<form action="/finish" method="post">
    <br>
    <input type="submit" value="Quit"></input>
</form>
</center>
</div>
</div>
</div>

<!-- top button in bottom right-->
<a href="#top"><img src="https://i.ibb.co/RyHdbWS/arrow.png" class="fixed" alt="arrow" border="0" height="25" style="opacity:0.4;filter:alpha(opacity=40);"></a>

<script>
function checkTime(i) {return (i < 10) ? "0" + i : i;}

function startTime() {
	var today = new Date(),
	    h = checkTime(today.getHours()),
	    m = checkTime(today.getMinutes()),
	    s = checkTime(today.getSeconds());
	document.getElementById('time').innerHTML = "Current Time: " + h + ":" + m + ":" + s;	
}
setInterval(startTime, 1000);

	

function jsOD() {
	var OD = import(chemostat_code.py)
	document.getElementByID("OD").innerHTML = OD.OD(); 
</script>

</body>

<!-- <meta http-equiv="refresh" content="2"> --> 
</html>
